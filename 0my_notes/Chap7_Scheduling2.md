模糊的问题



**锁的使用存在一些限制**

限制1：xv6中的程序在执行时swtch函数切换进程时，不能持有进程锁（p->lock）之外的锁，否则会导致产生死锁。

--->通过禁止在进程切换的时候加锁来避免死锁

限制2：在线程切换的过程中，线程要一直持有自身的p--->lock

限制的原因主要时为了避免死锁。



在xv6系统中，某些进程的处理过程需要将程序暂停以等待某个特定条件，可以用sleep-wakeup机制实现。











多CPU共享内存带来的问题

1、每一个进程在内存的栈

2、XV6内核的内存分配